<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>EV3 Simulator - –¢–µ—Å—Ç–æ–≤—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f0f0f0;
        }
        .simulator {
            background: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .motor {
            margin: 10px 0;
            padding: 10px;
            background: #e0e0e0;
            border-radius: 5px;
        }
        .sensor {
            margin: 10px 0;
            padding: 10px;
            background: #d0f0d0;
            border-radius: 5px;
        }
        button {
            margin: 5px;
            padding: 10px 15px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <div class="simulator">
        <h1>üéÆ EV3 Simulator</h1>
        <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Å–∏–º—É–ª—è—Ç–æ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ EV3</p>
        
        <div class="motor">
            <h3>–ú–æ—Ç–æ—Ä A</h3>
            <button onclick="controlMotor('A', 50)">–í–ø–µ—Ä–µ–¥ 50%</button>
            <button onclick="controlMotor('A', -50)">–ù–∞–∑–∞–¥ 50%</button>
            <button onclick="controlMotor('A', 0)">–°—Ç–æ–ø</button>
            <div>–¢–µ–∫—É—â–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: <span id="motorA">0%</span></div>
        </div>
        
        <div class="sensor">
            <h3>–î–∞—Ç—á–∏–∫ 1 (–ö–∞—Å–∞–Ω–∏–µ)</h3>
            <button onclick="toggleSensor(1)">–ù–∞–∂–∞—Ç—å/–û—Ç–ø—É—Å—Ç–∏—Ç—å</button>
            <div>–°–æ—Å—Ç–æ—è–Ω–∏–µ: <span id="sensor1">–ù–µ –Ω–∞–∂–∞—Ç</span></div>
        </div>
        
        <div class="sensor">
            <h3>–î–∞—Ç—á–∏–∫ 2 (–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ)</h3>
            <input type="range" min="0" max="100" value="50" oninput="updateDistance(this.value)">
            <div>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: <span id="distance">50 —Å–º</span></div>
        </div>
    </div>
    
    <script>
        function controlMotor(port, speed) {
            console.log(`Motor ${port}: ${speed}%`);
            document.getElementById(`motor${port}`).textContent = `${speed}%`;
            
            // –≠–º—É–ª–∏—Ä—É–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É –∫–æ–º–∞–Ω–¥—ã
            if (window.parent && window.parent.setMotorSpeed) {
                window.parent.setMotorSpeed(port, speed);
            }
        }
        
        function toggleSensor(port) {
            const sensorEl = document.getElementById(`sensor${port}`);
            const isPressed = sensorEl.textContent === '–ù–∞–∂–∞—Ç';
            sensorEl.textContent = isPressed ? '–ù–µ –Ω–∞–∂–∞—Ç' : '–ù–∞–∂–∞—Ç';
            sensorEl.style.color = isPressed ? 'black' : 'red';
        }
        
        function updateDistance(value) {
            document.getElementById('distance').textContent = `${value} —Å–º`;
        }
    </script>
</body>
</html>
